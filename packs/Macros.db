{"name":"Adjust Rage","type":"script","scope":"global","author":"OrOQ70SVPCGayvrw","img":"systems/vtm5e/assets/icons/dice/werewolf/success.png","command":"// Grab the list of selected tokens and map them\nconst tokens = canvas.tokens.controlled\nconst actorsList = tokens.map(i=>i.actor)\n\n// First input: Will prompt a number\nlet mod = await Dialog.prompt({content: 'Adjust Rage by (+ or -) <input type=\"number\">', callback: (html) => html.find('input').val()})\n\nfor (const actor of actorsList){\n   // If the actor isn't a werewolf, skip them\n   if (actor.type !== 'werewolf') { return; }\n\n   // Second input: The actor's current rage\n   const oldValue = Number(actor.system.rage.value)\n   // Add the inputs together\n   let newValue = oldValue + Number(mod)\n\n   // Check to make sure the input doesn't go over or below max/min values\n   if (newValue > 5) { newValue = 5; }\n   if (newValue < 0) { newValue = 0; }\n\n   await actor.update({ \"system.rage.value\": newValue })\n\n}","folder":null,"ownership":{"default":0,"OrOQ70SVPCGayvrw":3},"flags":{"core":{}},"_stats":{"systemId":"vtm5e","systemVersion":"4.0.0-prerelease1","coreVersion":"11.315","createdTime":1701128014450,"modifiedTime":1707813729386,"lastModifiedBy":"OrOQ70SVPCGayvrw"},"_id":"Rsx9q3xfajJVYR4t","sort":200000}
{"name":"Adjust Hunger","type":"script","scope":"global","author":"OrOQ70SVPCGayvrw","img":"systems/vtm5e/assets/icons/dice/vampire/success.png","command":"// Grab the list of selected tokens and map them\nconst tokens = canvas.tokens.controlled\nconst actorsList = tokens.map(i=>i.actor)\n\n// First input: Will prompt a number\nlet mod = await Dialog.prompt({content: 'Adjust Hunger by (+ or -) <input type=\"number\">', callback: (html) => html.find('input').val()})\n\nfor (const actor of actorsList){\n   // If the actor isn't a vampire, skip them\n   if (actor.type !== 'vampire') { return; }\n\n   // Second input: The actor's current hunger\n   const oldValue = Number(actor.system.hunger.value)\n   // Add the inputs together\n   let newValue = oldValue + Number(mod)\n\n   // Check to make sure the input doesn't go over or below max/min values\n   if (newValue > 5) { newValue = 5; }\n   if (newValue < 0) { newValue = 0; }\n\n   await actor.update({ \"system.hunger.value\": newValue })\n}","folder":null,"ownership":{"default":0,"OrOQ70SVPCGayvrw":3},"flags":{"core":{}},"_stats":{"systemId":"vtm5e","systemVersion":"4.0.0-prerelease1","coreVersion":"11.315","createdTime":1701128684097,"modifiedTime":1707813729386,"lastModifiedBy":"OrOQ70SVPCGayvrw"},"_id":"s3GbZTtgvLIpl4FP","sort":300000}
{"name":"Roll API Example","type":"script","scope":"global","author":"OrOQ70SVPCGayvrw","img":"icons/svg/dice-target.svg","command":"// This macro is an example of how you can access the WOD5E Roll API.\n// More documentation for the API will be released in the future.\n\nWOD5E.api.Roll({\n   title: \"Rolling from the custom API\",\n   basicDice: 4,\n   callback: (data) => {\n     // Do what you want with the data here\n     console.log(data)\n   }\n})","folder":null,"ownership":{"default":0,"OrOQ70SVPCGayvrw":3},"flags":{"core":{}},"_stats":{"systemId":"vtm5e","systemVersion":"4.0.0-prerelease1","coreVersion":"11.315","createdTime":1707614396503,"modifiedTime":1707813729386,"lastModifiedBy":"OrOQ70SVPCGayvrw"},"_id":"xHe6LF89pUgEDxV3","sort":100000}
